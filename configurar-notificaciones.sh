#!/bin/bash

echo "ğŸ“± Configurando notificaciones a grupos de WhatsApp"
echo "================================================="
echo ""
echo "PASO 1: OBTENER EL ID DEL GRUPO"
echo "--------------------------------"
echo "1. En WhatsApp Web o la app, crea un grupo o usa uno existente"
echo "2. Agrega el nÃºmero de Twilio al grupo (+14155238886)"
echo "3. EnvÃ­a un mensaje desde el grupo al bot"
echo "4. En los logs de Heroku verÃ¡s algo como:"
echo "   ğŸ“¨ Mensaje recibido de whatsapp:+14155238886-1234567890@g.us"
echo "   El ID del grupo es: whatsapp:+14155238886-1234567890@g.us"
echo ""
echo "PASO 2: CONFIGURAR VARIABLES EN HEROKU"
echo "---------------------------------------"
echo "Ejecuta estos comandos con el ID de tu grupo:"
echo ""
echo "# Para grupo de administraciÃ³n principal:"
echo "heroku config:set WHATSAPP_ADMIN_GROUP='whatsapp:+14155238886-XXXXXXXXXX@g.us' -a cafe-bot-whatsapp"
echo ""
echo "# Para notificar a un nÃºmero individual (administrador):"
echo "heroku config:set WHATSAPP_ADMIN_NUMBER='whatsapp:+51999999999' -a cafe-bot-whatsapp"
echo ""
echo "# Opcional - Para grupo de ventas:"
echo "heroku config:set WHATSAPP_VENTAS_GROUP='whatsapp:+14155238886-YYYYYYYYYY@g.us' -a cafe-bot-whatsapp"
echo ""
echo "# Opcional - Para grupo de producciÃ³n (pedidos grandes):"
echo "heroku config:set WHATSAPP_PRODUCCION_GROUP='whatsapp:+14155238886-ZZZZZZZZZZ@g.us' -a cafe-bot-whatsapp"
echo ""
echo "PASO 3: HACER PUSH DE LOS CAMBIOS"
echo "----------------------------------"
echo "git add notification-service.js bot-final.js"
echo "git commit -m 'Agregar notificaciones a grupos de WhatsApp'"
echo "git push heroku main"
echo ""
echo "PASO 4: VERIFICAR"
echo "-----------------"
echo "heroku logs --tail -a cafe-bot-whatsapp"
echo ""
echo "ğŸ“Š NOTIFICACIONES QUE SE ENVIARÃN:"
echo "-----------------------------------"
echo "âœ… Nuevo pedido recibido"
echo "âœ… Comprobante de pago recibido"
echo "âœ… Pedidos grandes (>50kg) a producciÃ³n"
echo "âœ… Resumen diario (opcional)"
echo ""
echo "ğŸ’¡ EJEMPLO DE NOTIFICACIÃ“N:"
echo "----------------------------"
echo "ğŸ†• NUEVO PEDIDO"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“‹ ID: CAF-123456"
echo "ğŸ• Hora: 14:30"
echo ""
echo "CLIENTE:"
echo "ğŸ¢ CafeterÃ­a Central"
echo "ğŸ‘¤ Juan PÃ©rez"
echo "ğŸ“± +51987654321"
echo "ğŸ“ Av. Principal 123, Miraflores"
echo ""
echo "PEDIDO:"
echo "â˜• CafÃ© Premium"
echo "âš–ï¸ 20 kg"
echo "ğŸ’° Total: S/1000"
echo ""
echo "PAGO:"
echo "ğŸ’³ Transferencia"
echo "ğŸ“¸ Comprobante: âœ…"
